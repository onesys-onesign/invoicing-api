{
	"info": {
		"_postman_id": "92bdef66-8e81-4559-b3d4-fba0717ae696",
		"name": "External: e-Invoicing",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "28718757",
		"_collection_link": "https://oxinus.postman.co/workspace/Team-Workspace~a6e4708c-8fbd-482a-861d-19ec716bd159/collection/28718757-92bdef66-8e81-4559-b3d4-fba0717ae696?action=share&source=collection_link&creator=28718757"
	},
	"item": [
		{
			"name": "Add Device",
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6Ijc2YjM1ZDdlLWVkODQtNGI0ZS1hODhiLWQ2Y2RlOWRiY2Q3YiIsImZpcnN0TmFtZSI6Ik94aW51cyIsImxhc3ROYW1lIjoiSG9sZGluZ3MiLCJlbWFpbCI6InNwQG94aW51cy5ob2xkaW5ncyIsImFjY2Vzc1R5cGUiOiJqd3QiLCJpYXQiOjE3MDI4Nzg3MTB9.ZLZGFse5RJMFkgziYs-nH8qYTveztOzmhApbXN0poPA",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImtqZG5nZTg0NTQwOTgiLCJmaXJzdE5hbWUiOiJSaWNreSIsImxhc3ROYW1lIjoiTWFydGluIiwiZW1haWwiOiJtLnNpZGRpcXVpQG94aW51cy5pbyIsImFwaUtleSI6ImhoaGpqamRkZGtrayIsInNlY3JldCI6InNlY3JldCIsImFjY2Vzc1R5cGUiOiJTMlMiLCJjcmVhdGVkQXQiOiIyMDIzLTEyLTE0VDA3OjA3OjE0LjgzMloiLCJ1cGRhdGVkQXQiOiIyMDIzLTEyLTE0VDA3OjA3OjE0LjgzMloiLCJpYXQiOjE3MDI1NDE3OTZ9.a3XfDBcXVJ5mZFkKR7u5Er_zT9L06SaIUzi9biYD6gU"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"deviceName\": \"device 1\",\n    \"deviceType\": \"virtual\",\n    \"deviceSerial\": \"98594583434\",\n    \"devicePublicKey\": \"0e6c1b121a9ce7f9593fb6f1a3794090885a93de2812fafaf6b6f5c0867477f4\",\n    \"devicePublicKeySignature\": \"b92653730c2ebcacb367a2e4bf608a2c7751322fd835915a640b95ffa37208775d6b5d56d6c1f01b2df7f20b4fd31749cce8f6c950b10f202d09cc331664ef07\",\n    \"networkTxnId\": \"123243323\",\n    \"country\": \"AL\",\n    \"authority\": \"AAD\",\n    \"entity\": 1\n}"
				},
				"url": {
					"raw": "https://api.invoicing.oxinus.net/signing-devices",
					"protocol": "https",
					"host": [
						"api",
						"invoicing",
						"oxinus",
						"net"
					],
					"path": [
						"signing-devices"
					]
				}
			},
			"response": []
		},
		{
			"name": "Revoke Device",
			"request": {
				"method": "DELETE",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImtqZG5nZTg0NTQwOTgiLCJmaXJzdE5hbWUiOiJSaWNreSIsImxhc3ROYW1lIjoiTWFydGluIiwiZW1haWwiOiJtLnNpZGRpcXVpQG94aW51cy5pbyIsImFwaUtleSI6ImhoaGpqamRkZGtrayIsInNlY3JldCI6InNlY3JldCIsImFjY2Vzc1R5cGUiOiJTMlMiLCJjcmVhdGVkQXQiOiIyMDIzLTEyLTE0VDA3OjA3OjE0LjgzMloiLCJ1cGRhdGVkQXQiOiIyMDIzLTEyLTE0VDA3OjA3OjE0LjgzMloiLCJpYXQiOjE3MDI1NDE3OTZ9.a3XfDBcXVJ5mZFkKR7u5Er_zT9L06SaIUzi9biYD6gU"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "https://api.invoicing.oxinus.net/signing-devices/:id",
					"protocol": "https",
					"host": [
						"api",
						"invoicing",
						"oxinus",
						"net"
					],
					"path": [
						"signing-devices",
						":id"
					],
					"variable": [
						{
							"key": "id",
							"value": ""
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Search Invoice By InvoiceUId",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImtqZG5nZTg0NTQwOTgiLCJmaXJzdE5hbWUiOiJSaWNreSIsImxhc3ROYW1lIjoiTWFydGluIiwiZW1haWwiOiJtLnNpZGRpcXVpQG94aW51cy5pbyIsImFwaUtleSI6ImhoaGpqamRkZGtrayIsInNlY3JldCI6InNlY3JldCIsImFjY2Vzc1R5cGUiOiJTMlMiLCJjcmVhdGVkQXQiOiIyMDIzLTEyLTE0VDA3OjA3OjE0LjgzMloiLCJ1cGRhdGVkQXQiOiIyMDIzLTEyLTE0VDA3OjA3OjE0LjgzMloiLCJpYXQiOjE3MDI1NDE3OTZ9.a3XfDBcXVJ5mZFkKR7u5Er_zT9L06SaIUzi9biYD6gU"
					}
				],
				"url": {
					"raw": "https://api.invoicing.oxinus.net/invoice/DC9555A9F4786C0605698D7DA5EDED4EBCB87A73",
					"protocol": "https",
					"host": [
						"api",
						"invoicing",
						"oxinus",
						"net"
					],
					"path": [
						"invoice",
						"DC9555A9F4786C0605698D7DA5EDED4EBCB87A73"
					]
				}
			},
			"response": []
		},
		{
			"name": "Issue Invoice",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Fiscal-Header-Issuer-TaxID",
						"value": "1"
					},
					{
						"key": "Fiscal-Header-Recipient-TaxID",
						"value": "1"
					},
					{
						"key": "Fiscal-Header-TimeStamp-Epoch",
						"value": "1702035028"
					},
					{
						"key": "Fiscal-Header-Document-Type",
						"value": "380"
					},
					{
						"key": "Fiscal-Header-Document-Value",
						"value": "1240"
					},
					{
						"key": "Fiscal-Header-Document-Tax-Value",
						"value": "331.25"
					},
					{
						"key": "Fiscal-Header-Currency",
						"value": "EUR"
					},
					{
						"key": "Crypto-Header-Fiscal-Header-SHA256-Hash",
						"value": "9215c39718fc25f3b7eeae4980aa484d6b83e03018be409381484ae9fb6d832f"
					},
					{
						"key": "Crypto-Header-Invoice-Payload-SHA256-Hash",
						"value": "973c1b1c20f68bd19239854e21aeb14fbae1d1e20d65b716a40130c6217ac760"
					},
					{
						"key": "Crypto-Header-Signature",
						"value": "26f639767c6268cf1c13023fedaf0cb4d66159681cf88ae3d916c621fc1c73bdf1280c3ac414786f613b97885569f1b1dca89580d95ae663207f41bfb1f2d207"
					},
					{
						"key": "Crypto-Header-Previous-Invoice-Fiscal-Header",
						"value": "08131565b09b7cfaec7d6c1c2cd3f823dff2b9c2018321104ae37991e996ac8d"
					},
					{
						"key": "Settings-Authority-ID",
						"value": "AAD"
					},
					{
						"key": "Crypto-Header-Public-Key-of-Signatory-Device",
						"value": "470c61b1c12b5614b74d909aed7c5ba5a5ab37ad089d4822ad69464b78264d56"
					},
					{
						"key": "Crypto-Header-Signature-of-Signatory-Device-Public-Key",
						"value": "6db623a4db1d6036426c706fe58c47dbccb70904c662f4848c652a76d82c8ee91c04a6369ff226756f2fb4284bccb2ea600d95dfc0ff0cea2511e2bcd5207e0a"
					},
					{
						"key": "Settings-Is-Peppol-Required",
						"value": "true"
					},
					{
						"key": "Settings-Document-TemplateID",
						"value": "1"
					},
					{
						"key": "Fiscal-Header-Tax-Currency",
						"value": "EUR"
					},
					{
						"key": "Fiscal-Header-Invoice-ID",
						"value": "321fbd4b-a157-4c3c-ad85-faa6f79fa171"
					},
					{
						"key": "Content-Type",
						"value": "application/xml"
					},
					{
						"key": "Authorization",
						"value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImtqZG5nZTg0NTQwOTgiLCJmaXJzdE5hbWUiOiJSaWNreSIsImxhc3ROYW1lIjoiTWFydGluIiwiZW1haWwiOiJtLnNpZGRpcXVpQG94aW51cy5pbyIsImFwaUtleSI6ImhoaGpqamRkZGtrayIsInNlY3JldCI6InNlY3JldCIsImFjY2Vzc1R5cGUiOiJTMlMiLCJjcmVhdGVkQXQiOiIyMDIzLTEyLTE0VDA3OjA3OjE0LjgzMloiLCJ1cGRhdGVkQXQiOiIyMDIzLTEyLTE0VDA3OjA3OjE0LjgzMloiLCJpYXQiOjE3MDI1NDE3OTZ9.a3XfDBcXVJ5mZFkKR7u5Er_zT9L06SaIUzi9biYD6gU"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<InvoicesDoc xmlns:icls=\"https://www.aade.gr/myDATA/incomeClassificaton/v1.0\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xmlns=\"http://www.aade.gr/myDATA/invoice/v1.0\" xsi:schemaLocation=\"http://www.aade.gr/myDATA/invoice/v1.0/InvoicesDoc-v0.6.xsd\">\n    <invoice>\n        <issuer>\n            <vatNumber>090000045</vatNumber>\n            <country>GR</country>\n            <branch>0</branch>\n        </issuer>\n        <counterpart>\n            <vatNumber>026883248</vatNumber>\n            <country>GR</country>\n            <branch>0</branch>\n            <address>\n                <street>Βενιζέλου</street>\n                <number>3</number>\n                <postalCode>13400</postalCode>\n                <city>Αθήνα</city>\n            </address>\n        </counterpart>\n        <invoiceHeader>\n            <series>A</series>\n            <aa>11</aa>\n            <issueDate>2023-12-18</issueDate>\n            <invoiceType>1.1</invoiceType>\n            <currency>EUR</currency>\n            <dispatchDate>2023-12-14</dispatchDate>\n            <dispatchTime>17:30:00</dispatchTime>\n            <vehicleNumber>ΑΡΔ3217</vehicleNumber>\n            <movePurpose>1</movePurpose>\n        </invoiceHeader>\n        <paymentMethods>\n            <paymentMethodDetails>\n                <type>3</type>\n                <amount>1012.00</amount>\n            </paymentMethodDetails>\n        </paymentMethods>\n        <invoiceDetails>\n            <lineNumber>1</lineNumber>\n            <netValue>1000.00</netValue>\n            <vatCategory>1</vatCategory>\n            <vatAmount>240.00</vatAmount>\n            <discountOption>true</discountOption>\n            <withheldAmount>200.00</withheldAmount>\n            <withheldPercentCategory>2</withheldPercentCategory>\n            <stampDutyAmount>12.00</stampDutyAmount>\n            <stampDutyPercentCategory>1</stampDutyPercentCategory>\n            <feesAmount>120.00</feesAmount>\n            <feesPercentCategory>1</feesPercentCategory>\n            <otherTaxesPercentCategory>3</otherTaxesPercentCategory>\n            <otherTaxesAmount>40.00</otherTaxesAmount>\n            <deductionsAmount>200.00</deductionsAmount>\n            <incomeClassification>\n                <icls:classificationType>E3_561_001</icls:classificationType>\n                <icls:classificationCategory>category1_1</icls:classificationCategory>\n                <icls:amount>1000.00</icls:amount>\n            </incomeClassification>\n        </invoiceDetails>\n        <invoiceSummary>\n            <totalNetValue>1000.00</totalNetValue>\n            <totalVatAmount>240.00</totalVatAmount>\n            <totalWithheldAmount>200.00</totalWithheldAmount>\n            <totalFeesAmount>120.00</totalFeesAmount>\n            <totalStampDutyAmount>12.00</totalStampDutyAmount>\n            <totalOtherTaxesAmount>40.00</totalOtherTaxesAmount>\n            <totalDeductionsAmount>200.00</totalDeductionsAmount>\n            <totalGrossValue>1012.00</totalGrossValue>\n            <incomeClassification>\n                <icls:classificationType>E3_561_001</icls:classificationType>\n                <icls:classificationCategory>category1_1</icls:classificationCategory>\n                <icls:amount>1000.00</icls:amount>\n            </incomeClassification>\n        </invoiceSummary>\n    </invoice>\n</InvoicesDoc>"
				},
				"url": {
					"raw": "https://api.invoicing.oxinus.net/invoice/issue",
					"protocol": "https",
					"host": [
						"api",
						"invoicing",
						"oxinus",
						"net"
					],
					"path": [
						"invoice",
						"issue"
					]
				}
			},
			"response": []
		},
		{
			"name": "Generate Key Pairs",
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6Ijc2YjM1ZDdlLWVkODQtNGI0ZS1hODhiLWQ2Y2RlOWRiY2Q3YiIsImZpcnN0TmFtZSI6Ik94aW51cyIsImxhc3ROYW1lIjoiSG9sZGluZ3MiLCJlbWFpbCI6InNwQG94aW51cy5ob2xkaW5ncyIsImFjY2Vzc1R5cGUiOiJqd3QiLCJpYXQiOjE3MDI4Nzg3MTB9.ZLZGFse5RJMFkgziYs-nH8qYTveztOzmhApbXN0poPA",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImtqZG5nZTg0NTQwOTgiLCJmaXJzdE5hbWUiOiJSaWNreSIsImxhc3ROYW1lIjoiTWFydGluIiwiZW1haWwiOiJtLnNpZGRpcXVpQG94aW51cy5pbyIsImFwaUtleSI6ImhoaGpqamRkZGtrayIsInNlY3JldCI6InNlY3JldCIsImFjY2Vzc1R5cGUiOiJTMlMiLCJjcmVhdGVkQXQiOiIyMDIzLTEyLTE0VDA3OjA3OjE0LjgzMloiLCJ1cGRhdGVkQXQiOiIyMDIzLTEyLTE0VDA3OjA3OjE0LjgzMloiLCJpYXQiOjE3MDI1NDE3OTZ9.a3XfDBcXVJ5mZFkKR7u5Er_zT9L06SaIUzi9biYD6gU"
					}
				],
				"url": {
					"raw": "https://api.invoicing.oxinus.net/signing-devices/generate-keys",
					"protocol": "https",
					"host": [
						"api",
						"invoicing",
						"oxinus",
						"net"
					],
					"path": [
						"signing-devices",
						"generate-keys"
					]
				}
			},
			"response": []
		}
	]
}